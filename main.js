(()=>{const t=document.querySelector("#addTaskForm"),e=document.querySelector("#addTaskButton"),n=document.querySelector("#addTaskModal");function s(){const t=document.querySelector("#tasksContainer");document.querySelectorAll(".taskCard").forEach((t=>{t.remove()})),a.forEach((e=>{const n=document.createElement("div");n.classList.add("taskCard"),n.innerHTML=`\n        <div class="taskCardTitle">\n        <h3>${e.title}</h3>\n    </div>\n    <div class="taskCardDescription">\n        <p>${e.description}</p>\n    </div>\n    <div class="taskCardDueDate">\n        <p><b>Due Date:</b> ${e.date}</p>\n    </div>\n    <div class="taskCardPriority">\n        <p><b>Priority:</b> ${e.priority}</p>\n    </div>\n    <div class="taskCardProject">\n        <p><b>Project:</b> ${e.project}</p>\n    </div>\n    <div class="taskCardActions">\n        <button class="taskCardEditButton" id="${e.id}">Edit</button>\n            <button class="taskCardDeleteButton" id="${e.id}" >Delete</button>\n    </div>      \n        `,t&&t.appendChild(n),document.querySelectorAll(".taskCardDeleteButton").forEach((t=>{t.addEventListener("click",(t=>{const e=t.target.id;a.forEach(((t,n)=>{t.id==e&&(a.splice(n,1),localStorage.setItem("tasks",JSON.stringify(a)),s())}))}))})),document.querySelectorAll(".taskCardEditButton").forEach((t=>{t.addEventListener("click",(t=>{const e=t.target.id,n=a.findIndex((t=>t.id==e)),o=a[n],i=document.querySelector("#editTaskForm"),r=document.querySelector("#editTaskTitle"),c=document.querySelector("#editTaskDescription");r.value=o.title,c.value=o.description;const l=document.querySelector("#editTaskModal");l.style.display="flex",i.addEventListener("submit",(t=>{t.preventDefault();const o=r.value,i=c.value;a[n]=new d(o,i,e),localStorage.setItem("tasks",JSON.stringify(a)),s(),l.style.display="none"})),document.querySelector(".close").addEventListener("click",(()=>{l.style.display="none"}))}))}))}))}e.addEventListener("click",(()=>{n.style.display="flex"})),t.addEventListener("submit",(function(t){t.preventDefault();const e=document.querySelector("#taskTitle").value,o=document.querySelector("#taskDescription").value,i=Math.floor(1e8*Math.random());a.push(new d(e,o,i)),localStorage.setItem("tasks",JSON.stringify(a)),n.style.display="none",s()}));let a=[];window.addEventListener("load",(()=>{const t=localStorage.getItem("tasks");t&&(a=JSON.parse(t),s())}));class d{constructor(t,e,n){this.title=t,this.description=e,this.id=n}}})();